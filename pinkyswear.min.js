function h(j){"undefined"!=typeof process&&process.nextTick?process.nextTick(j):window.setTimeout(j,0)}
pinkySwear=function k(){function a(l,a){null==d&&(d=l,g=a,h(function(){for(var a=0;a<b.length;a++)b[a]()}))}var d,g=[],b=[];a.then=function(a,m){function e(){try{var b=d?a:m;if("function"==typeof b){var f=b.apply(null,g);f&&"function"==typeof f.then?f.then(function(a){c(!0,[a])},function(a){c(!1,[a])}):c(!0,[f])}else c(d,g)}catch(e){c(!1,[e])}}var c=k();null!=d?h(e):b.push(e);return c};a.always=function(b){return a.then(b,b)};a.error=function(b){return a.then(0,b)};return a};